### YamlMime:ManagedReference
items:
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs
  id: ListViewUpdateEventArgs
  children:
  - System.Web.UI.WebControls.ListViewUpdateEventArgs.#ctor(System.Int32)
  - System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex
  - System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys
  - System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues
  - System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues
  langs:
  - csharp
  name: ListViewUpdateEventArgs
  nameWithType: ListViewUpdateEventArgs
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs
  type: Class
  summary: "提供有关数据<xref href=&quot;System.Web.UI.WebControls.ListView.ItemUpdating&quot;></xref>事件。"
  remarks: "<xref:System.Web.UI.WebControls.ListView>控件都将引发<xref:System.Web.UI.WebControls.ListView.ItemUpdating>事件时<xref:System.Web.UI.WebControls.ListView.UpdateItem%2A>调用方法或项的更新按钮时，之前<xref:System.Web.UI.WebControls.ListView>控件更新该项。</xref:System.Web.UI.WebControls.ListView> </xref:System.Web.UI.WebControls.ListView.UpdateItem%2A> </xref:System.Web.UI.WebControls.ListView.ItemUpdating> </xref:System.Web.UI.WebControls.ListView> (的更新按钮控件是一个按钮其`CommandName`属性设置为&quot;更新&quot;。)这使你能够执行自定义的例程，每次此事件发生时，例如取消更新操作的事件处理方法。       ListViewUpdateEventArgs 对象传递给事件处理方法。 此对象使您可以确定的当前项的索引，并指定应取消更新操作。 若要取消更新操作，请设置<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>于 ListViewUpdateEventArgs 对象属性`true`。</xref:System.ComponentModel.CancelEventArgs.Cancel%2A> 你还可以使用<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A>， <xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A>，和<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>之前的值传递到数据源的集合。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A> </xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A> </xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A> 使用这些集合的典型方式是验证或用户之前对这些值提供的值存储在数据源进行 HTML 编码。 这可以帮助防止脚本注入攻击。       ListViewUpdateEventArgs 类的实例的初始属性值的列表，请参阅<xref:System.Web.UI.WebControls.ListViewSelectEventArgs.%23ctor%2A>构造函数。</xref:System.Web.UI.WebControls.ListViewSelectEventArgs.%23ctor%2A>"
  example:
  - "The following example shows how to use the <xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A> property to make sure that the user has supplied all values before the data source is updated.  \n  \n> [!IMPORTANT]\n>  This example has a text box that accepts user input, which is a potential security threat. By default, ASP.NET Web pages validate that user input does not include script or HTML elements. For more information, see [Script Exploits Overview](~/add/includes/ajax-current-ext-md.md).  \n  \n [!code-vb[System.Web.UI.WebControls.ListView.ItemUpdating#1](~/add/codesnippet/visualbasic/t-system.web.ui.webcontr_92_1.aspx)]\n [!code-cs[System.Web.UI.WebControls.ListView.ItemUpdating#1](~/add/codesnippet/csharp/t-system.web.ui.webcontr_92_1.aspx)]"
  syntax:
    content: 'public class ListViewUpdateEventArgs : System.ComponentModel.CancelEventArgs'
  inheritance:
  - System.ComponentModel.CancelEventArgs
  implements: []
  inheritedMembers: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.#ctor(System.Int32)
  id: '#ctor(System.Int32)'
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  langs:
  - csharp
  name: ListViewUpdateEventArgs(Int32)
  nameWithType: ListViewUpdateEventArgs.ListViewUpdateEventArgs(Int32)
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.ListViewUpdateEventArgs(Int32)
  type: Constructor
  assemblies:
  - System.Web.Extensions
  namespace: System.Web.UI.WebControls
  summary: "初始化的新实例<xref href=&quot;System.Web.UI.WebControls.ListViewUpdateEventArgs&quot;></xref>类。"
  remarks: "使用此构造函数初始化的新实例<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs>类，使用指定的项索引。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs>      1> [!NOTE]&1;> 在引发事件时主要由控件开发人员使用此构造函数。       下表显示<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs>类</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs>实例的初始属性的值      |属性 |初始值 |  |--------------|-------------------|  |<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex%2A>|中包含的值`itemIndex`参数。 |</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex%2A>"
  syntax:
    content: public ListViewUpdateEventArgs (int itemIndex);
    parameters:
    - id: itemIndex
      type: System.Int32
      description: "要更新项的索引。"
  overload: System.Web.UI.WebControls.ListViewUpdateEventArgs.#ctor*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex
  id: ItemIndex
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  langs:
  - csharp
  name: ItemIndex
  nameWithType: ListViewUpdateEventArgs.ItemIndex
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex
  type: Property
  assemblies:
  - System.Web.Extensions
  namespace: System.Web.UI.WebControls
  summary: "获取正在更新数据项的索引。"
  remarks: "使用 ItemIndex 属性来确定的索引<xref:System.Web.UI.WebControls.ListViewDataItem>对象，其中包含正在更新的数据项。</xref:System.Web.UI.WebControls.ListViewDataItem> 通常用于检索的项的项索引<xref:System.Web.UI.WebControls.ListView.Items%2A>集合<xref:System.Web.UI.WebControls.ListView>控件，使您能够访问项目的属性。</xref:System.Web.UI.WebControls.ListView> </xref:System.Web.UI.WebControls.ListView.Items%2A>"
  syntax:
    content: public int ItemIndex { get; }
    return:
      type: System.Int32
      description: "正在更新数据项的索引。"
  overload: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys
  id: Keys
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  langs:
  - csharp
  name: Keys
  nameWithType: ListViewUpdateEventArgs.Keys
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys
  type: Property
  assemblies:
  - System.Web.Extensions
  namespace: System.Web.UI.WebControls
  summary: "获取表示或多个要更新的项的键的字段名称/值对的字典。"
  remarks: "当<xref:System.Web.UI.WebControls.ListView.DataKeyNames%2A>属性<xref:System.Web.UI.WebControls.ListView>控件设置、 键属性 （字典） 用于访问要更新的项目中的主键的值。</xref:System.Web.UI.WebControls.ListView> </xref:System.Web.UI.WebControls.ListView.DataKeyNames%2A>      1> [!NOTE]&1;> 若要访问非键字段的值，使用<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>或<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A>属性。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A> </xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A> <xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>属性包含更新的值，与<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A>属性包含原始值。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A> </xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>       Keys 字典自动填充的字段或字段中指定的名称/值对<xref:System.Web.UI.WebControls.ListView.DataKeyNames%2A>属性。</xref:System.Web.UI.WebControls.ListView.DataKeyNames%2A> 如果主键由多个字段组成，一个单独的条目添加到每个键字段 Keys 字典。       若要确定键字段的名称，使用<xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName>属性<xref:System.Collections.DictionaryEntry>密钥字典中包含的对象。</xref:System.Collections.DictionaryEntry> </xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName> 若要确定键字段的值，使用<xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>属性。</xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>"
  example:
  - "The following example shows how to use the Keys property to access the value of the key field for the record being updated.  \n  \n> [!IMPORTANT]\n>  This example has a text box that accepts user input, which is a potential security threat. By default, ASP.NET Web pages validate that user input does not include script or HTML elements. For more information, see [Script Exploits Overview](~/add/includes/ajax-current-ext-md.md).  \n  \n [!code-vb[System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys#1](~/add/codesnippet/visualbasic/p-system.web.ui.webcontr_867_1.aspx)]\n [!code-cs[System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys#1](~/add/codesnippet/csharp/p-system.web.ui.webcontr_867_1.aspx)]"
  syntax:
    content: public System.Collections.Specialized.IOrderedDictionary Keys { get; }
    return:
      type: System.Collections.Specialized.IOrderedDictionary
      description: "表示或多个要更新的项的键字段名称/值对。"
  overload: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues
  id: NewValues
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  langs:
  - csharp
  name: NewValues
  nameWithType: ListViewUpdateEventArgs.NewValues
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues
  type: Property
  assemblies:
  - System.Web.Extensions
  namespace: System.Web.UI.WebControls
  summary: "获取一个字典，其中包含要更新的项的修改后的值。"
  remarks: "使用新值属性 （字典） 访问在要更新的项的修改后的非键字段的值。      1> [!NOTE]&1;> 主键字段包含此字典中如果正在更新的主键值或值。 若要访问的主键字段或字段的原始值，使用<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A>属性。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A> 若要访问项目中的非键字段的原始值，使用<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A>属性。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues%2A>       新值属性自动填充的项中修改后的字段的名称/值对中。 一个单独的条目添加到项目中的每个字段的新值属性。       若要确定条目的字段名称，使用<xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName>属性<xref:System.Collections.DictionaryEntry>递增字典中包含的对象。</xref:System.Collections.DictionaryEntry> </xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName> 若要确定的项的值，使用<xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>属性。</xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>"
  example:
  - "The following example shows how to use the NewValues property to make sure that the user has supplied all values before the data source is updated. This code example is part of a larger example provided for the <xref:System.Web.UI.WebControls.ListViewUpdateEventArgs> class.  \n  \n [!code-vb[System.Web.UI.WebControls.ListView.ItemUpdating#2](~/add/codesnippet/visualbasic/p-system.web.ui.webcontr_642_1.aspx)]\n [!code-cs[System.Web.UI.WebControls.ListView.ItemUpdating#2](~/add/codesnippet/csharp/p-system.web.ui.webcontr_642_1.aspx)]"
  syntax:
    content: public System.Collections.Specialized.IOrderedDictionary NewValues { get; }
    return:
      type: System.Collections.Specialized.IOrderedDictionary
      description: "要更新的项的修改后的值。"
  overload: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues
  id: OldValues
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  langs:
  - csharp
  name: OldValues
  nameWithType: ListViewUpdateEventArgs.OldValues
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues
  type: Property
  assemblies:
  - System.Web.Extensions
  namespace: System.Web.UI.WebControls
  summary: "获取一个字典，其中包含要更新的项的原始值。"
  remarks: "使用它属性 （字典） 访问要更新的项目中的字段的原始值。 此字典包含的项除外的键字段中的所有字段。      1> [!NOTE]&1;> 可以通过访问的项的键字段<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A>属性。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys%2A> 若要访问该项目中的非键字段的修改后的值，使用<xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>属性。</xref:System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues%2A>       它属性自动填充的项中的所有字段的原始值中。 一个单独的条目添加到项目中的每个字段的它属性。       若要确定条目的字段名称，使用<xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName>属性<xref:System.Collections.DictionaryEntry?displayProperty=fullName>它字典中包含的对象。</xref:System.Collections.DictionaryEntry?displayProperty=fullName> </xref:System.Collections.DictionaryEntry.Key%2A?displayProperty=fullName> 若要确定的项的值，使用<xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>属性。</xref:System.Collections.DictionaryEntry.Value%2A?displayProperty=fullName>"
  syntax:
    content: public System.Collections.Specialized.IOrderedDictionary OldValues { get; }
    return:
      type: System.Collections.Specialized.IOrderedDictionary
      description: "要更新的项的原始值。"
  overload: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues*
  exceptions: []
  platform:
  - net462
references:
- uid: System.ComponentModel.CancelEventArgs
  isExternal: false
  name: System.ComponentModel.CancelEventArgs
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.#ctor(System.Int32)
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: ListViewUpdateEventArgs(Int32)
  nameWithType: ListViewUpdateEventArgs.ListViewUpdateEventArgs(Int32)
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.ListViewUpdateEventArgs(Int32)
- uid: System.Int32
  parent: System
  isExternal: true
  name: Int32
  nameWithType: Int32
  fullName: System.Int32
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: ItemIndex
  nameWithType: ListViewUpdateEventArgs.ItemIndex
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: Keys
  nameWithType: ListViewUpdateEventArgs.Keys
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys
- uid: System.Collections.Specialized.IOrderedDictionary
  parent: System.Collections.Specialized
  isExternal: false
  name: IOrderedDictionary
  nameWithType: IOrderedDictionary
  fullName: System.Collections.Specialized.IOrderedDictionary
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: NewValues
  nameWithType: ListViewUpdateEventArgs.NewValues
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: OldValues
  nameWithType: ListViewUpdateEventArgs.OldValues
  fullName: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.#ctor*
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: ListViewUpdateEventArgs
  nameWithType: ListViewUpdateEventArgs.ListViewUpdateEventArgs
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.ItemIndex*
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: ItemIndex
  nameWithType: ListViewUpdateEventArgs.ItemIndex
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.Keys*
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: Keys
  nameWithType: ListViewUpdateEventArgs.Keys
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.NewValues*
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: NewValues
  nameWithType: ListViewUpdateEventArgs.NewValues
- uid: System.Web.UI.WebControls.ListViewUpdateEventArgs.OldValues*
  parent: System.Web.UI.WebControls.ListViewUpdateEventArgs
  isExternal: false
  name: OldValues
  nameWithType: ListViewUpdateEventArgs.OldValues
